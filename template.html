<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
        textarea {
            width: 70%;
            height: 500px;
        }
    </style>
<body>
<form style="display: flex; flex-direction: column; width: 300px" onsubmit="generate()">
    <p> THIS MAKES THE CODE FOR ONE ITEM. Fill out form to make the code to paste into index.html :D </p>
    <p> name </p>
    <input id="name"> </input>
    <p> price </p>
    <input id="price"> </input>
    <p> images </p>
    <div id="generateForm"><input/></div>
</form>
<button onclick="generate()"> Submit </button>
<button onclick="newimg()"> New image </button>
<br/>
<script>
    function generate() {
        var txt = document.getElementsByTagName("textarea");
        if (txt.length === 0) {
            txt = document.createElement("textarea");
        } else {
            txt = txt[0]
        }
        var price = document.getElementById("price").value.replace('$','');
        [].forEach.call(document.getElementById("generateForm").childNodes,(input, index) => {
            if (index === 0) {
                txt.value =
`<div class="item">
    <img type="button" class="btn" data-modal-open="${document.getElementById("name").value.replace(' ','')}" src="./imgs/${input.value}"/>
    <a type="button" class="btn" data-modal-open="${document.getElementById("name").value.replace(' ','')}"> ${document.getElementById("name").value} </a>
    <br>

    <div id="${document.getElementById("name").value.replace(' ','')}" data-modal>
        <div class="modal" data-modal-document>
            <div class="modalbuttons">
                <button class="prev navbutton"></button>
                <button class="next navbutton"></button>
                <p style="padding-right:10px"></p>
                <button class="snipcart-add-item"
                data-item-id="${document.getElementById("name").value.replace(' ','')}"
                data-item-price="${price}"
                data-item-image="./imgs/${input.value}"
                data-item-name="${document.getElementById("name").value}">
                Add to cart
                </button>
            </div>
	        <div class="siema" id="${document.getElementById("name").value.replace(' ','')}Siema">
	            <img src="./imgs/${input.value}"/>`;
	            } else {
                    if (input.value !== '') {
                        txt.value = `${txt.value}
	            <img src="./imgs/${input.value}"/>`
    	            }
                }
	        });
	        txt.value = `${txt.value}
	        </div>
	    </div>
    </div>
    <button class="snipcart-add-item"
      data-item-id="${document.getElementById("name").value.replace(' ','')}"
      data-item-price="${price}"
      data-item-url="./${document.getElementById("name").value.replace(' ','')}"
      data-item-image="./imgs/${document.getElementById("generateForm").childNodes[0].value}"
      data-item-name="${document.getElementById("name").value}">
      Add to cart
    </button>
</div>`;
        document.getElementsByTagName("body")[0].appendChild(txt);
    }

    var imgCount = 1;
    function newimg() {
        imgCount++;
        document.getElementById("generateForm").appendChild(
            document.createElement("input")
        )
    }
</script>
</body>
</html>